PIC EQU 20H
HAND EQU 40H
N_HND EQU 10

ORG 40 
IP_HND DW RUT_HND

ORG 1000H
MSJ DB "INGRESAR: "
FIN DB ?
NUM DB ?
ORG 3000H 
RUT_HND: PUSH AX 
MOV AL, [BX] 
OUT HAND, AL 
INC BX 
INC DH
MOV AL, 20H
OUT PIC, AL
POP AX 
IRET

ORG 2000H
MOV CX, NUM
INGRESAR: MOV BX, OFFSET MSJ
MOV AL, OFFSET FIN-OFFSET MSJ
INT 7
MOV BX, CX
INT 6
INC DL
INC CX
CMP DL, 5
JNZ INGRESAR
MOV BX, NUM
CLI
MOV AL, 0FBH
OUT PIC+1, AL
MOV AL, N_HND
OUT PIC+6, AL
MOV AL, 80H
OUT HAND+1, AL
STI

LAZO: CMP DH, 5
JNZ LAZO
IN AL, HAND+1
AND AL, 7FH
OUT HAND+1, AL
INT 0
END
